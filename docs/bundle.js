!function(t){function e(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}function r(){var t=g.node().offsetWidth;b!==t&&(b=t,u.default.resize(),f.default.resize(),m.default.resize(),y.default.resize(),v.default.resize())}var i=n(1),o=a(i),c=n(3),s=a(c),l=n(4),u=a(l),d=n(5),f=a(d),p=n(6),m=a(p),h=n(7),y=a(h),x=n(8),v=a(x),g=d3.select("body"),b=0;!function(){g.classed("is-mobile",s.default.any()),window.addEventListener("resize",(0,o.default)(r,150)),u.default.init(),f.default.init(),m.default.init(),y.default.init(),v.default.init()}()},function(t,e,n){(function(e){function n(t,e,n){function r(e){var n=h,a=y;return h=y=void 0,k=e,v=t.apply(a,n)}function i(t){return k=t,g=setTimeout(u,e),z?r(t):v}function s(t){var n=t-A,a=t-k,r=e-n;return O?w(r,x-a):r}function l(t){var n=t-A,a=t-k;return void 0===A||n>=e||n<0||O&&a>=x}function u(){var t=_();if(l(t))return d(t);g=setTimeout(u,s(t))}function d(t){return g=void 0,B&&h?r(t):(h=y=void 0,v)}function f(){void 0!==g&&clearTimeout(g),k=0,h=A=y=g=void 0}function p(){return void 0===g?v:d(_())}function m(){var t=_(),n=l(t);if(h=arguments,y=this,A=t,n){if(void 0===g)return i(A);if(O)return g=setTimeout(u,e),r(A)}return void 0===g&&(g=setTimeout(u,e)),v}var h,y,x,v,g,A,k=0,z=!1,O=!1,B=!0;if("function"!=typeof t)throw new TypeError(c);return e=o(e)||0,a(n)&&(z=!!n.leading,O="maxWait"in n,x=O?b(o(n.maxWait)||0,e):x,B="trailing"in n?!!n.trailing:B),m.cancel=f,m.flush=p,m}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function r(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||r(t)&&g.call(t)==l}function o(t){if("number"==typeof t)return t;if(i(t))return s;if(a(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=a(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(u,"");var n=f.test(t);return n||p.test(t)?m(t.slice(2),n?2:8):d.test(t)?s:+t}var c="Expected a function",s=NaN,l="[object Symbol]",u=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,m=parseInt,h="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,x=h||y||Function("return this")(),v=Object.prototype,g=v.toString,b=Math.max,w=Math.min,_=function(){return x.Date.now()};t.exports=n}).call(e,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return a.android()||a.blackberry()||a.ios()||a.opera()||a.windows()}};e.default=a},function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){k.append("text").at("class","chart-title").at("x",_/2).at("y",10).text("Reasons for Visit"),z.append("text").at("class","chart-title").at("x",_/2).at("y",10).text("Visited Locations Mentioned"),O.append("text").at("class","chart-title").at("x",_/2).at("y",10).text("Descriptions of Visit"),B.append("text").at("class","chart-title").at("x",_/2).at("y",10).text("Mentions of Improvements"),j.range([M+50,_-A]),L.range([0,_-M-50-A]),w<768&&(_=w);for(var t=y.map(function(t){return t.reason}),e=x.map(function(t){return t.mention}),n=v.map(function(t){return t.description}),a=g.map(function(t){return t.improvement}),r=[],i=[],o=0;o<b.length;o++)"statement"==b[o].type?r.push(b[o]):i.push(b[o]);d3.scaleQuantize().domain([4,5]).range(["#fee08b","#ffffbf","#d9ef8b","#a6d96a"]);C.domain(t).range([30,30+14*t.length]),P.domain(e).range([30,30+14*e.length]),S.domain(n).range([30,30+14*n.length]),W.domain(a).range([30,30+14*a.length]),$=d3.axisLeft(C).tickSizeInner(0).tickSizeOuter(0),E=k.append("g").at("transform","translate("+(M+45)+",0)").call($),F=d3.axisLeft(P).tickSizeInner(0).tickSizeOuter(0),N=z.append("g").at("transform","translate("+(M+45)+",0)").call(F),I=d3.axisLeft(S).tickSizeInner(0).tickSizeOuter(0),q=O.append("g").at("transform","translate("+(M+45)+",0)").call(I),D=d3.axisLeft(W).tickSizeInner(0).tickSizeOuter(0),T=B.append("g").at("transform","translate("+(M+45)+",0)").call(D),k.selectAll("rect.reason_data").data(y).enter().append("rect").at("class",function(t){return"reason_data "+t.association}).at("height",12).at("y",function(t){return C(t.reason)}).at("width",function(t){return L(t.percent)}).at("x",function(t){return j(0)}),k.selectAll("text.reason_data").data(y).enter().append("text").at("class",function(t){return"percent-label"}).at("y",function(t){return C(t.reason)+9.5}).at("x",function(t){return j(t.percent)+5}).text(function(t){return t.percent+"%"}),z.selectAll(".mention_data").data(x).enter().append("rect").at("class",function(t){return"mention_data "+t.association}).at("height",12).at("y",function(t){return P(t.mention)}).at("width",function(t){return L(t.percent)}).at("x",function(t){return j(0)}),z.selectAll("text.mention_data").data(x).enter().append("text").at("class",function(t){return"percent-label"}).at("y",function(t){return P(t.mention)+9.5}).at("x",function(t){return j(t.percent)+5}).text(function(t){return t.percent+"%"}),O.selectAll(".description_data").data(v).enter().append("rect").at("class",function(t){return"description_data "+t.association}).at("height",12).at("y",function(t){return S(t.description)}).at("width",function(t){return L(t.percent)}).at("x",function(t){return j(0)}),O.selectAll("text.description_data").data(v).enter().append("text").at("class",function(t){return"percent-label"}).at("y",function(t){return S(t.description)+9.5}).at("x",function(t){return j(t.percent)+5}).text(function(t){return t.percent+"%"}),B.selectAll(".improvement_data").data(g).enter().append("rect").at("class",function(t){return"improvement_data "+t.association}).at("height",12).at("y",function(t){return W(t.improvement)}).at("width",function(t){return L(t.percent)}).at("x",function(t){return j(0)}),B.selectAll("text.improvement_data").data(g).enter().append("text").at("class",function(t){return"percent-label"}).at("y",function(t){return W(t.improvement)+9.5}).at("x",function(t){return j(t.percent)+5}).text(function(t){return t.percent+"%"})}function i(){var t=w/2;w<600&&(t=w),j.range([M+50,t-A]),L.range([0,t-M-50-A]),k.selectAll(".reason_data").at("width",function(t){return L(t.percent)}),z.selectAll(".mention_data").at("width",function(t){return L(t.percent)}),O.selectAll(".description_data").at("width",function(t){return L(t.percent)}),O.selectAll(".improvement_data").at("width",function(t){return L(t.percent)})}function o(){w=l.node().offsetWidth}function c(){o(),i()}function s(){var t,e=["seattle_reasons","seattle_mentions","seattle_descriptions","salinas_improvements","singapore_survey"].map(function(t){return"assets/data/"+t+".csv"});(t=d3).loadData.apply(t,a(e).concat([function(t,e){y=e[0],x=e[1],v=e[2],g=e[3],b=e[4],r(),c()}]))}Object.defineProperty(e,"__esModule",{value:!0});var l=d3.select(".seattle-reasons-descriptions"),u=l.select(".reasons"),d=l.select(".mentions"),f=l.select(".descriptions"),p=l.select(".improvements"),m=d3.select(".singapore-statements"),h=(m.select(".statements"),d3.select(".resident-interviews")),y=(h.select(".interviews"),null),x=null,v=null,g=null,b=null,w=l.node().offsetWidth,_=w/2;w<600&&(_=w);var A=10,k=u.append("svg").at("width",_).at("height",270),z=d.append("svg").at("width",_).at("height",270),O=f.append("svg").at("width",_).at("height",135),B=p.append("svg").at("width",_).at("height",135),j=d3.scaleLinear().domain([0,100]),L=d3.scaleLinear().domain([0,100]),M=100,C=d3.scaleBand(),P=d3.scaleBand(),S=d3.scaleBand(),W=d3.scaleBand(),$=void 0,F=void 0,I=void 0,D=void 0,E=void 0,N=void 0,q=void 0,T=void 0;e.default={init:s,resize:c}},function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){for(var t=0;t<d.length;t++){u.append("div.note").append("p").html('"'+d[t].statement+'"<br>&mdash; <b>'+d[t].name+",</b> <em>"+d[t].title+" </em>")}}function i(){}function o(){f=u.node().offsetWidth}function c(){o(),i()}function s(){var t,e=["resident_interviews"].map(function(t){return"assets/data/"+t+".csv"});(t=d3).loadData.apply(t,a(e).concat([function(t,e){d=e[0],r(),c()}]))}Object.defineProperty(e,"__esModule",{value:!0});var l=d3.select(".resident-interviews"),u=l.select(".interviews"),d=null,f=d3.select(".prose-text").node().offsetWidth;e.default={init:s,resize:c}},function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){_.range([40,w-40]),I.range([w-40,30]),C.range([40,w-40]),D.range([w-40,30]),W.range([40,w-40]),q.range([w-40,30]);for(var t=0;t<3;t++){var e=z[t];u.append("div."+e);var n=u.select("."+e).append("svg").at("class","demo_"+e).at("width",w).at("height",w);n.append("text").at("class","chart-label").at("x",w/2).at("y",10).text(B[t]),n.append("text").at("class","chart-label").at("x",w/2).at("y",w-3).text("Year"),k=n.append("g").at("class","axis").at("transform","translate(0,"+(w-40)+")").call(A);for(var a=n.append("g").at("class","axis"),r=0;r<5;r++){var i=d3.area().x(function(t,e){return _(t.year)}).y0(function(e){var n=0;if(r>0)for(var a=0;a<r;a++)n+=+e[O[t]+"_"+j[a]];return I(n)}).y1(function(e){var n=100;if(0==r)n=+e[O[t]+"_"+j[r]];else if(r>4)for(var a=0;a<=r;a++)n+=+e[O[t]+"_"+j[a]];return I(n)});a.append("path").datum(x).at("class",function(t){return j[r]}).at("stroke-width",1).at("fill-opacity",.2).at("d",i),a.append("text").datum(x).at("class",j[r]).at("x",function(t){return _(2020)}).at("y",0).text(j[r])}}for(var t=0;t<3;t++){var e=z[t];d.append("div."+e);var n=d.select("."+e).append("svg").at("class","age_"+e).at("width",w).at("height",w);n.append("text").at("class","chart-label").at("x",w/2).at("y",10).text(B[t]),n.append("text").at("class","chart-label").at("x",w/2).at("y",w-3).text("Year"),k=n.append("g").at("class","axis").at("transform","translate(0,"+(w-40)+")").call(A);for(var a=n.append("g").at("class","axis"),r=0;r<5;r++){var i=d3.area().x(function(t,e){return _(t.year)}).y0(function(e){var n=0;if(r>0)for(var a=0;a<r;a++)n+=+e[O[t]+"_"+M[a]];return I(n)}).y1(function(e){var n=100;if(0==r)n=+e[O[t]+"_"+M[r]];else if(r>4)for(var a=0;a<=r;a++)n+=+e[O[t]+"_"+M[a]];return I(n)});a.append("path").datum(v).at("class",function(t){return"age"+M[r]}).at("stroke-width",0).at("d",i)}}for(var t=0;t<3;t++){var e=z[t];p.append("div."+e);var n=p.select("."+e).append("svg").at("class","income_"+e).at("width",w).at("height",w);n.append("text").at("class","chart-label").at("x",w/2).at("y",10).text(B[t]),n.append("text").at("class","chart-label").at("x",w/2).at("y",w-10).text("Income"),S=n.append("g").at("class","axis").at("transform","translate(0,"+(w-40)+")").call(P),N=n.append("g").at("class","axis").at("transform","translate(40,0)").call(E),n.selectAll("line.income"+r).data(y).enter().append("line").at("class",function(t){return t.demo}).at("x1",function(t){return C(t.income)}).at("x2",function(t){return C(t.context)}).at("y1",function(t){return D(t.demo)+20}).at("y2",function(t){return D(t.demo)+20}).at("stroke-width",function(e){return("boston"!=e.city||"black"!=e.demo&&"latino"!=e.demo)&&e.city==z[t]?1:0}).at("stroke","black").style("stroke-dasharray","3,3"),n.selectAll("circle.income-"+r).data(y).enter().append("circle").at("class",function(t){return t.demo+" context"}).at("cx",function(t){return C(t.context)}).at("cy",function(t){return D(t.demo)+20}).at("r",function(e){return e.city==z[t]?5:0}),n.selectAll("circle.income"+r).data(y).enter().append("circle").at("class",function(t){return t.demo+" chinatown"}).at("cx",function(t){return C(t.income)}).at("cy",function(t){return D(t.demo)+20}).at("r",function(e){return("boston"!=e.city||"black"!=e.demo&&"latino"!=e.demo)&&e.city==z[t]?5:0}),n.selectAll("text.income"+r).data(y).enter().append("text").at("class","income fact_chinatown").at("x",function(t){return+t.income<+t.context?C(t.income)-10:C(t.income)+10}).at("y",function(t){return D(t.demo)+23}).style("text-anchor",function(t){return+t.income<+t.context?"end":"start"}).text(function(e){return("boston"!=e.city||"latino"!=e.demo&&"black"!=e.demo)&&e.city==z[t]?h(e.income):""}),n.selectAll("text.income-"+r).data(y).enter().append("text").at("class","income fact_context").at("x",function(t){return+t.income<+t.context?C(t.context)+10:C(12*t.context)-10}).at("y",function(t){return D(t.demo)+23}).style("text-anchor",function(t){return+t.income<+t.context?"start":"end"}).text(function(e){return e.city==z[t]?h(e.context):""})}for(var t=0;t<3;t++){var e=z[t];m.append("div."+e);var n=m.select("."+e).append("svg").at("class","rent_"+e).at("width",w).at("height",w);n.append("text").at("class","chart-label").at("x",w/2).at("y",10).text(B[t]),n.append("text").at("class","chart-label").at("x",w/2).at("y",w-10).text("Rent ($ Per Year)"),F=n.append("g").at("class","axis").at("transform","translate(0,"+(w-40)+")").call($),V=n.append("g").at("class","axis").at("transform","translate(40,0)").call(T),n.selectAll("line.rent"+r).data(g).enter().append("line").at("class",function(t){return t.demo}).at("x1",function(t){return W(12*t.rent)}).at("x2",function(t){return W(12*t.context)}).at("y1",function(t){return q(t.year)+25}).at("y2",function(t){return q(t.year)+25}).at("stroke-width",function(e){return e.city==z[t]?1:0}).at("stroke","black").style("stroke-dasharray","3,3"),n.selectAll("circle.rent-"+r).data(g).enter().append("circle").at("class",function(t){return t.demo+" context"}).at("cx",function(t){return W(12*t.context)}).at("cy",function(t){return q(t.year)+25}).at("r",function(e){return e.city==z[t]?5:0}),n.selectAll("circle.rent"+r).data(g).enter().append("circle").at("class",function(t){return t.demo+" chinatown"}).at("cx",function(t){return W(12*t.rent)}).at("cy",function(t){return q(t.year)+25}).at("r",function(e){return e.city==z[t]?5:0}),n.selectAll("text.rent"+r).data(g).enter().append("text").at("class","rent fact_chinatown").at("x",function(t){return+t.rent<+t.context?W(12*t.rent)-10:W(12*t.rent)+10}).at("y",function(t){return q(t.year)+28}).style("text-anchor",function(t){return+t.rent<+t.context?"end":"start"}).text(function(e){return e.city==z[t]?h(12*e.rent):""}),n.selectAll("text.rent-"+r).data(g).enter().append("text").at("class","rent fact_context").at("x",function(t){return+t.rent<+t.context?W(12*t.context)+10:W(12*t.context)-10}).at("y",function(t){return q(t.year)+28}).style("text-anchor",function(t){return+t.rent<+t.context?"start":"end"}).text(function(e){return e.city==z[t]?h(12*e.context):""})}}function i(){}function o(){b=l.node().offsetWidth}function c(){o(),i()}function s(){var t,e=["chinatown_income","BNP_demographics","BNP_ages","BNP_rent"].map(function(t){return"assets/data/"+t+".csv"});(t=d3).loadData.apply(t,a(e).concat([function(t,e){y=e[0],x=e[1],v=e[2],g=e[3],r(),c()}]))}Object.defineProperty(e,"__esModule",{value:!0});var l=d3.select(".cities"),u=l.select(".demographics"),d=l.select(".age"),f=d3.select(".cities1"),p=f.select(".income"),m=f.select(".rent"),h=d3.format(".2s"),y=null,x=null,v=null,g=null,b=d3.select(".prose-text").node().offsetWidth,w=b/3;b<450&&(w=b-20);var _=d3.scaleLinear().domain([1990,2010]),A=d3.axisBottom(_).tickValues([2010,2e3,1990]).tickFormat(d3.format("d")),k=void 0,z=["boston","manhattan","philadelphia"],O=["bos","nyc","phi"],B=["Boston Chinatown","Manhattan Chinatown","Phildelphia Chinatown"],j=["api","white","latino","black","other"],L=["api","white","latino","black"],M=[17,24,64,65],C=d3.scaleLinear().domain([0,8e4]),P=d3.axisBottom(C).tickValues([0,2e4,4e4,6e4,8e4]).tickSize(-(w-70)).tickFormat(d3.format(".1s")),S=void 0,W=d3.scaleLinear().domain([0,15e3]),$=d3.axisBottom(W).tickValues([0,5e3,1e4,15e3]).tickSize(-(w-70)).tickFormat(d3.format(".2s")),F=void 0,I=d3.scaleLinear().domain([0,100]),D=d3.scaleBand().domain(L),E=d3.axisLeft(D),N=void 0,q=d3.scaleBand().domain([1990,2e3,2010]),T=d3.axisLeft(q),V=void 0;e.default={init:s,resize:c}},function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){b.range([40,h-40]),k.range([y-40,20]),z.range([0,y-60]),_=O.append("g").at("class","axis").at("transform","translate(0,"+(y-40)+")").call(w),A=B.append("g").at("class","axis").at("transform","translate(0,"+(y-40)+")").call(w);for(var t=0;t<3;t++)for(var e=0,n=0;n<3;n++)e+=+p[t][v[n]],O.append("rect").at("class",v[n]).at("width",20).at("height",z(p[t][v[n]])).at("x",b(p[t].city)+30).at("y",k(e));for(var a=0;a<3;a++)for(var r=0,i=0;i<3;i++)r+=+p[a][g[i]+"_cuisine"],B.append("rect").at("class",g[i]).at("width",20).at("height",z(p[a][g[i]+"_cuisine"])).at("x",b(p[a].city)+30).at("y",k(r))}function i(){}function o(){m=u.node().offsetWidth}function c(){o(),i()}function s(){var t,e=["chinatown_businesses"].map(function(t){return"assets/data/"+t+".csv"});(t=d3).loadData.apply(t,a(e).concat([function(t,e){p=e[0],r(),c()}]))}Object.defineProperty(e,"__esModule",{value:!0});var l=d3.select(".cities2"),u=l.select(".biz-div"),d=u.select(".businesses"),f=u.select(".cuisines");d.append("h4").html("Businesses"),d.append("p.key").html("<span class='darkred square bizkey'> &#x25FC;</span> Small businesses <br> <span class='lightred square bizkey'> &#x25FC;</span> Local chains <br><span class='darkyellow square bizkey'> &#x25FC;</span> National chains"),f.append("h4").html("Cuisines"),f.append("p.key").html("<span class='darkred square bizkey'> &#x25FC;</span> Chinese cuisine <br> <span class='lightred square bizkey'> &#x25FC;</span> Non-Chinese Asian cuisine <br><span class='darkyellow square bizkey'> &#x25FC;</span>Asian cuisine");var p=null,m=d3.select(".prose-text").node().offsetWidth,h=m/2,y=250;m<450&&(h=m);var x=["boston","manhattan","philadelphia"],v=["small_biz","local_chains","national_chains"],g=["chinese","asian","nonasian"],b=d3.scaleBand().domain(x),w=d3.axisBottom(b),_=void 0,A=void 0,k=d3.scaleLinear().domain([0,100]),z=d3.scaleLinear().domain([0,100]),O=d.append("svg").at("width",h).at("height",y),B=f.append("svg").at("width",h).at("height",y);e.default={init:s,resize:c}},function(t,e,n){"use strict";function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(){f.forEach(function(t){var e=t.big_category.toLowerCase().replace(/\s/g,"-"),n=d.append("div.town-item."+e);n.style.width=p/5+"px",n.style.height=p/5+"px",n.append("h3.city").text(t.city),n.append("p.sub_category").text(t.sub_category),n.append("p.status").text(t.status),n.append("div.iconimg."+t.status),"present"==t.status?n.append("p.start").text(t.start):n.append("p.start").text(t.start+" - "+t.end);var a="";""!=t.comments&&(a="<br><br><b> More Information: </b><br>"+t.comments),n.append("p.reason").html("<b>Reason for Establishment: </b> <br>"+t.reason+a),n.on("mouseover",function(){m.style("opacity",1);var e="";""!=t.comments&&(e="<br><br><b> More Information: </b><br>"+t.comments),m.html("<b>"+t.city+"<br><br>Reason for Establishment: </b> <br>"+t.reason+e).style("left",d3.event.pageX+50+"px").style("top",d3.event.pageY-50+"px")}).on("mouseout",function(){m.style("opacity",0)})});var t=!0;d3.select("#descriptions").on("click",function(){if(t){document.getElementsByClassName(".town-item");d3.selectAll(".town-item").style("width","220px"),d3.selectAll(".town-item").style("height","220px"),d3.selectAll(".reason").style("display","inline-block"),d3.selectAll(".comments").style("display","inline-block"),t=!1}else d3.selectAll(".town-item").style("width","100px"),d3.selectAll(".town-item").style("height","100px"),d3.selectAll(".reason").style("display","none"),d3.selectAll(".comments").style("display","none"),t=!0;i()})}function i(){var t=$(".grid_chart").isotope({itemSelector:".town-item",layoutMode:"fitRows",getSortData:{city:".city",sub_category:".sub_category",start:".start parseInt",status:".status"}});$("#filters").on("click","button",function(){var e=$(this).attr("data-filter");e=e,t.isotope({filter:e})}),$("#sorts").on("click","button",function(){var e=$(this).attr("data-sort-by");t.isotope({sortBy:e})}),$(".button-group").each(function(t,e){var n=$(e);n.on("click","button",function(){n.find(".is-checked").removeClass("is-checked"),$(this).addClass("is-checked")})})}function o(){}function c(){p=u.node().offsetWidth}function s(){c(),o()}function l(){var t,e=["chinatowns_world"].map(function(t){return"assets/data/"+t+".csv"});(t=d3).loadData.apply(t,a(e).concat([function(t,e){f=e[0],f.sort(function(t,e){return t.start<e.start?-1:t.start>e.start?1:0}),r(),i(),s()}]))}Object.defineProperty(e,"__esModule",{value:!0});var u=d3.select(".grid"),d=u.select(".grid_chart"),f=null,p=u.node().offsetWidth,m=d3.select("body").append("div").attr("class","tooltip").style("opacity",0);e.default={init:l,resize:s}}]);